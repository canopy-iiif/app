---
title: Theme
description: Configure Radix-backed colors plus extend styling with CSS and Tailwind.
---

import {ThemeShowcase} from "@canopy-iiif/app/ui/server";
import ThemeShowcaseScript from "@canopy-iiif/helpers/docs/ThemeShowcaseScript.js";

# Theme

## Colors

Canopy exposes a single `theme` block in `canopy.yml` to control the site-wide accent palette, gray palette, and base appearance. These values generated CSS variables ship with your project so your user interface and MDX components stay in sync and accessible. Modify the `canopy.yml` file in the root of your project to adjust these settings. Updating this configuration will require a rebuild of your project to take effect. Here is an example configuration:

```yaml filename="canopy.yml"
theme:
  appearance: dark
  accentColor: bronze
  grayColor: sand
```

- **`appearance`** flips the design token ramp (`light` or `dark`).
- **`accentColor`** drives buttons, links, checkboxes, and focus rings.
- **`grayColor`** sets the base neutral ramp used for page backgrounds, card borders, and typography.

Click any accent or gray swatch below to temporarily override those palettes,
or flip between light/dark using the appearance buttons. The overrides inject a
small helper script (scoped to this docs page) that forces the relevant CSS
variables with `!important` so you can preview combinations without editing
`canopy.yml`. **Reset overrides** jumps back to the default light/indigo/slate preview.

<ThemeShowcase />
<ThemeShowcaseScript />

<ButtonWrapper>
  <Button href="/about/get-started" label="Get started" />
  <Button
    href="https://canopy-iiif.github.io/app/docs/"
    label="Read documentation"
    variant="secondary"
  />
</ButtonWrapper>

## Typography

In many cases, you may want to adjust the base typography styles to suit your branding. To do so, modify the standard CSS entry point (`app/styles/index.css`) to customize the theme. Here is an example of setting custom font families and max-width utilities. In this case we set the default sans-serif font to `Inter`, set the `--font-sans` variable as default, and modify the base font size and weight.

```css filename="app/styles/index.css" {4,7,21-22}
@layer properties {
  :root,
  :host {
    --font-sans: "Inter", system-ui, "Segoe UI", Helvetica, Arial, sans-serif;
    --font-serif: Georgia, "Times New Roman", serif;
    --font-mono: "ui-monospace", Menlo, Consolas, monospace;
    --default-font-family: var(--font-sans);
  }
}

@utility max-w-content {
  max-width: 1080px;
}

@utility max-w-wide {
  max-width: 1300px;
}

@layer base {
  html {
    font-size: 100%;
    font-weight: 400;
  }

  body {
    background: var(--color-gray-50);
    color: var(--color-gray-900);
  }
}
```

In addition to modifying the base styles, you will also want to ensure your font files are included in the project. You can easily do this with web fonts like Google Fonts by adding the appropriate `<link>` tags to your `content/_app.mdx` head block.

```jsx filename="content/_app.mdx" {6-8}
export function Head() {
  return (
    <>
      <Meta siteTitle="Manu's Great Flood" />
      <Stylesheet />
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    </>
  );
}
```

## Styling

Implementers can easily customize their Canopy projects by adding their own CSS rules that extend or override the default styles. Many Canopy components accept `className` and other valid HTML attributes so you can apply scoped changes without overriding the global theme. You can author these in your custom CSS files that extend the base styles.

> **Note:** Custom styles may behave differently between `npm run dev` and `npm run build`. If your customizations work in development but not in production, see [Production Build Considerations](#production-build-considerations) below.

First, ensure your custom CSS files are imported in the main stylesheet (`app/styles/index.css`):

```css filename="app/styles/index.css" {3}
@import "tailwindcss";
@import "@canopy-iiif/app/ui/styles/index.css";
@import "./_custom.css";
```

### CSS Variables

You can then add your own CSS rules in `app/styles/_custom.css` or new files you import to extend or override existing styles. This can include modifying CSS variables, adding new classes, or defining more complex selectors. For example, a Northwestern University digital project might include the following customizations to match [institutional brand](https://www.northwestern.edu/brand/visual-identity/color-palettes/).

```css filename="app/styles/_custom.css" {8-17, 20-29} copy
/* Northwestern Brand */
/* https://www.northwestern.edu/brand/visual-identity/color-palettes/ */

@layer properties {
  :root,
  :host {
    /* Northwestern Purple */
    --color-accent-50: #ffffff !important;
    --color-accent-100: #e4e0ee !important; /* Purple 10 */
    --color-accent-200: #ccc4df !important; /* Purple 20 */
    --color-accent-300: #b6acd1 !important; /* Purple 30 */
    --color-accent-400: #a495c3 !important; /* Purple 40 */
    --color-accent-500: #9380b6 !important; /* Purple 50 */
    --color-accent-600: #765da0 !important; /* Purple 70 */
    --color-accent-700: #4e2a84 !important; /* Northwestern Purple */
    --color-accent-800: #401f68 !important; /* Purple 120 */
    --color-accent-900: #200b48 !important; /* Purple 160 */

    /* Northwestern Rich Black */
    --color-gray-50: #ffffff !important;
    --color-gray-100: #d8d6d6 !important; /* Rich Black 10% */
    --color-gray-200: #bbb8b8 !important; /* Rich Black 20% */
    --color-gray-300: #a29f9e !important; /* Rich Black 30% */
    --color-gray-400: #8a8585 !important; /* Rich Black 40% */
    --color-gray-500: #716c6b !important; /* Rich Black 50% */
    --color-gray-600: #484342 !important; /* Rich Black 70% */
    --color-gray-700: #342f2e !important; /* Rich Black 80% */
    --color-gray-800: #1a1817 !important; /* Rich Black 90% */
    --color-gray-900: #000000 !important; /* Rich Black */

    /* Additional Variables */
    --color-northwestern-purple: var(--color-accent-700);
    --color-accent-default: var(--color-northwestern-purple) !important;
    --color-gray-default: var(--color-gray-900) !important;
    --color-gray-muted: var(--color-gray-700) !important;
  }
}
```

### Production Build Considerations

When customizing CSS variables, it's important to understand how Canopy processes styles during the build. The build process:

1. Compiles your `app/styles/index.css` (including imports like `_custom.css`)
2. **Appends** theme tokens generated from `canopy.yml` settings after your custom CSS

Because both your custom CSS and Canopy's generated theme use `@layer properties`, the later-appearing Canopy theme will override your custom variables in production buildsâ€”even if everything works correctly in development mode (`npm run dev`).

**Solution:** Add `!important` to your custom CSS variables to ensure they take precedence:

```css filename="app/styles/_custom.css" {8-18}
@layer properties {
  :root,
  :host {
    /* Texas A&M Maroon */
    --color-tamu-maroon: #500000;

    /* Full maroon color scale */
    --color-accent-50: #fdf2f2 !important;
    --color-accent-100: #f9e3e3 !important;
    --color-accent-200: #f0c5c5 !important;
    --color-accent-300: #e09898 !important;
    --color-accent-400: #c96666 !important;
    --color-accent-500: #aa3939 !important;
    --color-accent-600: #8b1a1a !important;
    --color-accent-700: #6d0000 !important;
    --color-accent-800: #500000 !important;
    --color-accent-900: #300000 !important;
    --color-accent-default: #500000 !important;
  }
}
```

### Clover IIIF Viewer Theme

The Clover IIIF Viewer (used on work pages) has its own theming system that uses **different CSS variable names**. Canopy UI components use `--color-accent-*` variables, while Clover uses `--colors-accent` (note the plural "colors" with no hyphen before "accent").

To customize the viewer's accent colors, add these rules **outside** the `@layer properties` block, targeting the `.clover-viewer` class directly:

```css filename="app/styles/_custom.css"
/* Clover IIIF Viewer theme overrides
 * Must target the component directly to override generated theme classes from Stitches.
 */
.clover-viewer,
.clover-viewer [class*="t-"] {
  --colors-accent: #500000 !important;
  --colors-accentAlt: #300000 !important;
  --colors-accentMuted: #8b1a1a !important;
}
```

| Canopy UI Variable | Clover Viewer Variable | Purpose |
|--------------------|------------------------|---------|
| `--color-accent-800` | `--colors-accent` | Primary accent color |
| `--color-accent-900` | `--colors-accentAlt` | Darker accent variant |
| `--color-accent-600` | `--colors-accentMuted` | Lighter/hover accent |

This targeting is necessary because Clover uses [Stitches](https://stitches.dev/) (a CSS-in-JS library) which generates scoped theme
classes at the component level. Standard `:root` variables won't override these component-scoped styles.

### Overrides

You can also override existing styles by targeting specific classes. For example, to modify the default button styles across your project, you can add the following CSS rules:

```css filename="app/styles/_custom.css"
/* overrides default button styling */
.canopy-button {
  border-radius: 0;
}
```

```mdx
<Button href="/search" label="Browse Works" />
```

<Button data-override-example="true" href="#search" label="Browse Works" />

### Custom classes

Implementers can easily add their own custom CSS classes like `custom-button` to modify button styles.

```css filename="app/styles/_custom.css"
/* adds custom soft button styling */
.custom-button {
  font-weight: 700;
  background: linear-gradient(
    135deg,
    var(--color-accent-50) 0%,
    var(--color-accent-200)
  );
  color: var(--color-accent-800);
  border: 2px solid var(--color-accent-300);
  box-shadow: 2px 2px 5px var(--color-accent-200);
}
```

```mdx
<Button className="custom-button" href="/bibliography" label="Bibliography" />
```

<Button className="custom-button" href="#bibliography" label="Bibliography" />

### Complex selectors

You can also extend existing button classes by explicitly defining new selectors like this example with the added `data-color="crimson"` attribute.

```css filename="app/styles/_custom.css"
/* adds custom crimson shaded button */
.canopy-button[data-color="crimson"] {
  background-color: #df3478;

  &:hover,
  &:focus {
    background-color: #cb1d63;
  }
}
```

```mdx
<Button data-color="crimson" href="/exhibit" label="Explore Exhibit" />
```

<Button data-color="crimson" href="#exhibit" label="Explore Exhibit" />

export const CustomClass = () => (
    <style>{`
      .canopy-button[data-override-example="true"] {
        border-radius: 0;
      }
      .custom-button {
        font-weight: 700;
        background: linear-gradient(
          135deg,
          var(--color-accent-50) 0%,
          var(--color-accent-200)
        );
        color: var(--color-accent-800);
        border: 2px solid var(--color-accent-300);
        box-shadow: 2px 2px 5px var(--color-accent-200);
      }
      .canopy-button[data-color="crimson"] {
        background-color: #df3478;

        &:hover,
        &:focus {
          background-color: #cb1d63;
        }
      }
    `}</style>

);

<CustomClass />
