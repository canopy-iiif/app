# Frontmatter

Every MDX file can start with a YAML block to set page metadata, connect to works, or toggle special layouts. This guide consolidates every supported key so you do not have to hunt through other docs.

## Supported keys

| Key                   | Purpose                                                                     |
| --------------------- | --------------------------------------------------------------------------- |
| `title`               | Page title used for `<h1>` and `<title>`.                                   |
| `description`         | Optional blurb for `<meta name="description">`.                             |
| `type`                | Overrides the computed page type (used for layout + meta tags).             |
| `referencedManifests` | List of manifest URLs consumed by `<ReferencedItems />` / `<References />`. |
| `search`              | When set to `false`, removes the page from the search index.                |
| `canonical`           | Absolute or relative canonical URL for the page.                            |
| `image`               | URL or path to a image for and open graph and search results.               |

### Title and Description

Provide a human-readable title and a short description for every page. Titles drive the `<h1>` inside the body, the document `<title>`, navigation labels, and search results. Descriptions are trimmed to roughly 240 characters and power the `<meta name="description">`, Open Graph cards, and search snippets when no `searchSummary` is set. When omitted, Canopy falls back to structural data (file name, first heading, or extracted Markdown text), but filling them explicitly ensures consistent SEO across contexts.

```mdx
---
title: Amanda Ira Aldridge Correspondence
description: Letters between Amanda Ira Aldridge and Mihailo Kovačević documenting the 1955 season.
---
```

### Referenced Manifest

Link essays or exhibition notes back to IIIF works and unlock the `<ReferencedItems />` / `<References />` components. Provide one or more manifest URLs (Presentation 2 or 3) and Canopy resolves them to cached manifests during the build. Work pages automatically render backlinks whenever they detect a page referencing the same manifest.

```mdx
---
title: Amanda Ira Aldridge Correspondence
description: Letters between Amanda Ira Aldridge and Mihailo Kovačević documenting the 1955 season.
referencedManifests:
  - https://api.dc.library.northwestern.edu/api/v2/works/14a6f47b?as=iiif
  - https://data.getty.edu/museum/api/iiif/manifest/6da0...64d6
---
```

### Image

Point to an image that represents the page in search results, cards, or any component that lists MDX-driven content. Use absolute URLs or site-relative paths (`/images/featured.jpg`). When omitted, cards render without an image and the search runtime falls back to a text-only layout.

```mdx
---
title: January 1955 Correspondence
description: Seven letters between Amanda Ira Aldridge and Mihailo Kovačević
image: https://iiif.example.org/iiif/3/hero-canvas/full/!800,800/0/default.jpg
---
```

## Excluding content from search

MDX pages contribute `type: 'page'` records unless explicitly excluded. The build process scans every `.mdx` file in your content directory. Any file with the frontmatter `search: false` is excluded. This is useful for content that does not add scholarly value to your digital project.

```mdx filename="content/privacy-policy.mdx"
---
title: Privacy Policy
search: false
---

# Privacy Policy

Your privacy is important to us...
```

## Canonical URLs

Every rendered page emits a canonical link that points back to itself. Work pages default to `/works/<slug>.html`, but if a manifest exposes a Presentation 3 `homepage` entry the builder will use that `homepage[].id` as the canonical instead. The resolved value is cached in `.cache/iiif/index.json` so incremental runs keep the override even when manifests are reused.

You can override the canonical for any MDX page by adding a `canonical` key to its frontmatter. Provide either an absolute URL or a site-relative path.

```mdx filename="content/about/index.mdx"
---
title: About Canopy
canonical: https://example.org/projects/canopy
---
```
