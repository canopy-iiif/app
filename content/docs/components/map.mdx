---
title: Map
description: Render an interactive Leaflet map with MapPoint markers and IIIF navPlace and georeference support.
---

# Map

`<Map>` renders an interactive Leaflet view that plots navPlace `Point` features extracted from your IIIF manifests.

Wrap `MapPoint` children inside `<Map>` to add arbitrary coordinates (including non-IIIF records). Each `MapPoint` renders alongside the navPlace markers resolved from `iiifContent`. If you omit `iiifContent`, the map only displays your custom points.

By default, custom `MapPoint` popups render their titles as plain text so visitors aren't pushed to another page. Pass an `href` prop to opt into a link. Both coordinates `lat` and `lng` are required.

<Map defaultZoom={5}>
  <MapPoint
    lat="26.8709"
    lng="80.9129"
    title="Lord Hastings' party entering the city of Lucknow on elephant back"
    summary="Watercolour of a procession entering Lucknow from 'Views by Seeta Ram from Cawnpore to Mohumdy Vol. IV' produced for Lord Moira, afterwards the Marquess of Hastings, by Sita Ram between 1814-15."
    thumbnail="https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Lord_Hastings%27_party_entering_the_city_of_Lucknow_on_elephant_back_-_British_Library%2C_Add.Or.4749.jpg/640px-Lord_Hastings%27_party_entering_the_city_of_Lucknow_on_elephant_back_-_British_Library%2C_Add.Or.4749.jpg"
  />
</Map>

```mdx
<Map defaultZoom={5}>
  <MapPoint
    lat="26.8709"
    lng="80.9129"
    title="Lord Hastings' party entering the city of Lucknow on elephant back"
    summary="Watercolour of a procession entering Lucknow from 'Views by Seeta Ram from Cawnpore to Mohumdy Vol. IV' produced for Lord Moira, afterwards the Marquess of Hastings, by Sita Ram between 1814-15."
    thumbnail="https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Lord_Hastings%27_party_entering_the_city_of_Lucknow_on_elephant_back_-_British_Library%2C_Add.Or.4749.jpg/640px-Lord_Hastings%27_party_entering_the_city_of_Lucknow_on_elephant_back_-_British_Library%2C_Add.Or.4749.jpg"
  />
</Map>
```

## Reference IIIF manifests

Attach `referencedManifests` to any `MapPoint` to render a list inside the marker. This automatically resolves links to a relative local in `/works/` if available. Additionally a thumbnail is used from the referenced manifest if no `thumbnail` prop is provided.

<Map>
  <MapPoint
    lat="26.195"
    lng="75.785"
    title="Tonk (1826–1830)"
    summary="A hand-colored aquatint from East India Company military sketches, showing Tonk and its hill-fort landscape in Rajpootana, near the Banas River."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c26591b2-994b-4ba3-a87e-9124419fa91b?as=iiif",
    ]}
  />
  <MapPoint
    lat="26.18"
    lng="75.77"
    title="Tonk (1826–1830)"
    summary="A hand-colored aquatint drawn from East India Company military sketches (1826–1830), showing a riverside ghat and pavilion on the Banas River near Tonk in Rajpootana, with a hill-top fort/shrine in the distance."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/d4c62d7f-f50d-4b29-85e0-5d380675bec7?as=iiif",
    ]}
  />
</Map>

```mdx {7-9, 16-18}
<Map>
  <MapPoint
    lat="26.195"
    lng="75.785"
    title="Tonk (1826–1830)"
    summary="A hand-colored aquatint from East India Company military sketches, showing Tonk and its hill-fort landscape in Rajpootana, near the Banas River."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c26591b2-994b-4ba3-a87e-9124419fa91b?as=iiif",
    ]}
  />
  <MapPoint
    lat="26.18"
    lng="75.77"
    title="Tonk (1826–1830)"
    summary="A hand-colored aquatint drawn from East India Company military sketches (1826–1830), showing a riverside ghat and pavilion on the Banas River near Tonk in Rajpootana, with a hill-top fort/shrine in the distance."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/d4c62d7f-f50d-4b29-85e0-5d380675bec7?as=iiif",
    ]}
  />
</Map>
```

## Add a map Key

<Map
  height="800px"
  defaultZoom={4}
  mapKey={[
    {id: "city", label: "City", type: "small"},
    {id: "landmark", label: "Landmark", type: "small"},
    {id: "work", label: "Work"},
  ]}
>
  <MapPoint lat="19.076" lng="72.8777" key="city" title="Bombay (Mumbai)" />
  <MapPoint lat="22.5726" lng="88.3639" key="city" title="Calcutta (Kolkata)" />
  <MapPoint lat="13.0827" lng="80.2707" key="city" title="Madras (Chennai)" />
  <MapPoint lat="27.1751" lng="78.0421" key="landmark" title="Taj Mahal" />
  <MapPoint lat="23.4793" lng="77.7399" key="landmark" title="Sanchi" />
  <MapPoint
    lat="29.958"
    lng="78.164"
    key="work"
    title="Pilgrimage at the Great Temple, Hurdwar (Haridwar), c. 1858–1860"
    summary="Hand-colored engraving (c. 1858–1860) showing Hindu pilgrims in procession at Haridwar’s annual festival, preparing to bathe in the Ganges."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c75198a0-2243-4fda-82a4-ff46b3844703?as=iiif",
    ]}
  />
</Map>

Pass `mapKey` to `<Map>` and assign the matching `key` to each `MapPoint`. The legend renders beneath the map and reuses those values to color both the legend dots and the markers. (React reserves the plain `key` prop, so in MDX you should use `mapKey` on `<Map>` while individual `<MapPoint>` elements can safely set `key`.)

```mdx {4-8}
<Map
  height="800px"
  defaultZoom={4}
  mapKey={[
    {id: "city", label: "City", type: "small"},
    {id: "landmark", label: "Landmark", type: "small"},
    {id: "work", label: "Work"},
  ]}
>
  <MapPoint lat="19.076" lng="72.8777" key="city" title="Bombay (Mumbai)" />
  <MapPoint lat="22.5726" lng="88.3639" key="city" title="Calcutta (Kolkata)" />
  <MapPoint lat="13.0827" lng="80.2707" key="city" title="Madras (Chennai)" />
  <MapPoint lat="27.1751" lng="78.0421" key="landmark" title="Taj Mahal" />
  <MapPoint lat="23.4793" lng="77.7399" key="landmark" title="Sanchi" />
  <MapPoint
    lat="29.958"
    lng="78.164"
    key="work"
    title="Pilgrimage at the Great Temple, Hurdwar (Haridwar), c. 1858–1860"
    summary="Hand-colored engraving (c. 1858–1860) showing Hindu pilgrims in procession at Haridwar’s annual festival, preparing to bathe in the Ganges."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c75198a0-2243-4fda-82a4-ff46b3844703?as=iiif",
    ]}
  />
</Map>
```

Set `type` as `small` on any `mapKey` entry to render those `MapPoint`s as compact inline labels without popups—great for city labels or dense site annotations.

```mdx {5}
<Map
  height="400px"
  mapKey={[
    {id: "works", label: "Works"},
    {id: "city", label: "City", type: "small"},
  ]}
>
  <MapPoint lat="34.5553" lng="69.2075" key="city" title="Kabul" />
  <MapPoint lat="26.18" lng="75.77" key="works" title="Tonk (1826–1830)" />
</Map>
```

## IIIF navPlace extension

Provide any IIIF Manifest or Collection URL via `iiifContent`. When a manifest is supplied, the map plots only that record’s navPlace features. When a collection is supplied, the runtime inspects each manifest listed in the collection and includes every navPlace-enabled work it finds. Note that this currently only supports Collections whose manifests are set in your `canopy.yml` file as the build process pre-fetches and caches those records.

```mdx
<Map iiifContent="https://tamulib-dc-labs.github.io/sesquicentennial-manifests/collections.json" />
```

## IIIF Georeference extension

Add georeferenced imagery from [Allmaps](https://allmaps.org) by supplying one or more Annotation or annotation URL strings to the `geoReferences` prop. These overlays hydrate entirely in the browser (via `@allmaps/leaflet`) so your MDX stays SSR-safe, and you can combine them with any mix of `MapPoint` markers or IIIF-derived navPlaces.

<Map
  height="600px"
  defaultZoom={4}
  tileLayers={false}
  geoReferences={["https://annotations.allmaps.org/images/26e0416161f6765c"]}
>
  <MapPoint
    lat="26.195"
    lng="75.785"
    title="Tonk (1826–1830)"
    summary="A hand-colored aquatint from East India Company military sketches, showing Tonk and its hill-fort landscape in Rajpootana, near the Banas River."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c26591b2-994b-4ba3-a87e-9124419fa91b?as=iiif",
    ]}
  />
  <MapPoint
    lat="29.958"
    lng="78.164"
    key="work"
    title="Pilgrimage at the Great Temple, Hurdwar (Haridwar), c. 1858–1860"
    summary="Hand-colored engraving (c. 1858–1860) showing Hindu pilgrims in procession at Haridwar’s annual festival, preparing to bathe in the Ganges."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c75198a0-2243-4fda-82a4-ff46b3844703?as=iiif",
    ]}
  />
  <MapPoint
    lat="24.110"
    lng="88.250"
    key="work"
    title="Felicity Hall, near Murshidabad, Bengal"
    summary="Hand-colored aquatint depicting Felicity Hall, the country residence of the Hon. David Anstruther, near Murshidabad in Bengal."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/96f4a0ad-7364-4df9-a53b-20764752787a?as=iiif",
    ]}
  />
</Map>

```mdx
<Map
  height="600px"
  defaultZoom={4}
  disableTileLayers={true}
  geoReferences={["https://annotations.allmaps.org/images/26e0416161f6765c"]}
>
  <MapPoint
    lat="26.195"
    lng="75.785"
    title="Tonk (1826–1830)"
    summary="A hand-colored aquatint from East India Company military sketches, showing Tonk and its hill-fort landscape in Rajpootana, near the Banas River."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c26591b2-994b-4ba3-a87e-9124419fa91b?as=iiif",
    ]}
  />
  <MapPoint
    lat="29.958"
    lng="78.164"
    key="work"
    title="Pilgrimage at the Great Temple, Hurdwar (Haridwar), c. 1858–1860"
    summary="Hand-colored engraving (c. 1858–1860) showing Hindu pilgrims in procession at Haridwar’s annual festival, preparing to bathe in the Ganges."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/c75198a0-2243-4fda-82a4-ff46b3844703?as=iiif",
    ]}
  />
  <MapPoint
    lat="24.110"
    lng="88.250"
    key="work"
    title="Pilgrimage at the Great Temple, Hurdwar (Haridwar), c. 1858–1860"
    summary="Hand-colored engraving (c. 1858–1860) showing Hindu pilgrims in procession at Haridwar’s annual festival, preparing to bathe in the Ganges."
    referencedManifests={[
      "https://api.dc.library.northwestern.edu/api/v2/works/96f4a0ad-7364-4df9-a53b-20764752787a?as=iiif",
    ]}
  />
</Map>
```

## API

### Map

| Prop                | Type                                                                 | Default       | Description                                                                                                           |
| ------------------- | -------------------------------------------------------------------- | ------------- | --------------------------------------------------------------------------------------------------------------------- |
| `iiifContent`       | string                                                               | `null`        | IIIF Manifest or Collection URL used to source navPlace markers.                                                      |
| `height`            | string \| number                                                     | `600px`       | Fixed height applied to the Leaflet container. Numbers automatically add `px`.                                        |
| `geoReferences`     | string \| string[] \| `Array<{ annotation?, url?, options? }>`       | `[]`          | Client-side Allmaps annotations to render as warped map layers on top of the basemap.                                 |
| `mapKey`            | `Array<{ id, label, type? }>`                                        | `[]`          | Optional legend/marker configuration used to color-code `MapPoint`s by `key`; set `type: 'small'` for inline labels.  |
| `tileLayers`        | `Array<{ name, url, attribution, maxZoom?, minZoom?, subdomains? }>` | OpenStreetMap | One or more custom basemap definitions rendered via Leaflet tile layers.                                              |
| `disableTileLayers` | boolean \| `'none'` \| `'transparent'`                               | `false`       | Set to `true` (or `'none'`/`'transparent'` in MDX) to use a built-in transparent TileLayer instead of external tiles. |
| `scrollWheelZoom`   | boolean                                                              | `false`       | Enable or disable scroll-wheel zooming.                                                                               |
| `cluster`           | boolean                                                              | `true`        | Toggle marker clustering (`leaflet.markercluster`).                                                                   |
| `maxClusterRadius`  | number                                                               | `null`        | Override Leaflet's `maxClusterRadius` (defaults to the plugin's built-in value).                                      |
| `defaultCenter`     | `{lat, lng}` \| `'lat,lng'`                                          | `null`        | Fallback map view when no markers are available.                                                                      |
| `defaultZoom`       | number                                                               | `null`        | Overrides the automatic bounds fit and forces the map to use the provided zoom (optionally with `defaultCenter`).     |

### MapPoint

| Prop                                  | Type               | Description                                                                                                                   |
| ------------------------------------- | ------------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| `lat`                                 | number \| string   | Required latitude coordinates in decimal degrees.                                                                             |
| `lng`                                 | number \| string   | Required longitude coordinates in decimal degrees.                                                                            |
| `title`                               | string             | Marker title and popup heading.                                                                                               |
| `summary`                             | string             | Short description rendered inside the popup.                                                                                  |
| `href`                                | string             | Optional link target (absolute, root-relative, or `/works/...`). When omitted the popup title stays plain text.               |
| `thumbnail`                           | string             | Optional image URL displayed in the popup (defaults to the first referenced manifest thumbnail when omitted).                 |
| `key`                                 | string             | Optional identifier that links this `MapPoint` to a `mapKey` entry on the parent `<Map>` (required for inline label styling). |
| `keyLabel`                            | string             | Override label text used by `mapKey` entries with `type: 'small'` (falls back to `title`).                                    |
| `referencedManifests` / `manifest(s)` | string \| string[] | Resolve one or more manifest IDs/URLs into linked work references inside the popup.                                           |
| `children`                            | MDX                | Additional markup rendered below the summary.                                                                                 |
